{"version":3,"sources":["../../../../modules/line-chart/hybrid/LineChart/index.js"],"names":["initialise","chart","props","data","type","xType","yType","grid","hGrid","vGrid","width","height","margin","orient","xLabel","yLabel","colors","interpolate","pattern","xDomain","yDomain","t","top","r","right","b","bottom","l","left","m","w","reduce","h","strokes","concat","types","x","y","domains","Array","isArray","scales","parsers","linePath","curve","d","root","append","attr","xAxis","tickSize","tickPadding","xGroup","call","style","text","yAxis","yGroup","getStroke","i","chartPathsGroup","selectAll","enter","transition","n","length","duration","remove","exit"],"mappings":";;;;;;AAAA;;AAQA;;AAeA;;;;;;AAEA,SAASA,UAAT,CAAoBC,KAApB,EAA2BC,KAA3B,EAAkC;AAAA,MAE9BC,IAF8B,GAwB5BD,KAxB4B,CAE9BC,IAF8B;AAAA,MAI9BC,IAJ8B,GAwB5BF,KAxB4B,CAI9BE,IAJ8B;AAAA,MAK9BC,KAL8B,GAwB5BH,KAxB4B,CAK9BG,KAL8B;AAAA,MAM9BC,KAN8B,GAwB5BJ,KAxB4B,CAM9BI,KAN8B;AAAA,MAO9BC,IAP8B,GAwB5BL,KAxB4B,CAO9BK,IAP8B;AAAA,MAQ9BC,KAR8B,GAwB5BN,KAxB4B,CAQ9BM,KAR8B;AAAA,MAS9BC,KAT8B,GAwB5BP,KAxB4B,CAS9BO,KAT8B;AAAA,MAU9BC,KAV8B,GAwB5BR,KAxB4B,CAU9BQ,KAV8B;AAAA,MAW9BC,MAX8B,GAwB5BT,KAxB4B,CAW9BS,MAX8B;AAAA,MAY9BC,MAZ8B,GAwB5BV,KAxB4B,CAY9BU,MAZ8B;AAAA,MAa9BC,MAb8B,GAwB5BX,KAxB4B,CAa9BW,MAb8B;AAAA,MAc9BC,MAd8B,GAwB5BZ,KAxB4B,CAc9BY,MAd8B;AAAA,MAe9BC,MAf8B,GAwB5Bb,KAxB4B,CAe9Ba,MAf8B;AAAA,MAgB9BC,MAhB8B,GAwB5Bd,KAxB4B,CAgB9Bc,MAhB8B;AAAA,MAkB9BC,WAlB8B,GAwB5Bf,KAxB4B,CAkB9Be,WAlB8B;AAAA,MAmB9BC,OAnB8B,GAwB5BhB,KAxB4B,CAmB9BgB,OAnB8B;AAAA,MAsB9BC,OAtB8B,GAwB5BjB,KAxB4B,CAsB9BiB,OAtB8B;AAAA,MAuB9BC,OAvB8B,GAwB5BlB,KAxB4B,CAuB9BkB,OAvB8B;AAAA,MA2BzBC,CA3ByB,GA+B5BT,MA/B4B,CA2B9BU,GA3B8B;AAAA,MA4BvBC,CA5BuB,GA+B5BX,MA/B4B,CA4B9BY,KA5B8B;AAAA,MA6BtBC,CA7BsB,GA+B5Bb,MA/B4B,CA6B9Bc,MA7B8B;AAAA,MA8BxBC,CA9BwB,GA+B5Bf,MA/B4B,CA8B9BgB,IA9B8B;;;AAiChC,MAAMC,IAAI;AACRR,QADQ;AAERE,QAFQ;AAGRE,QAHQ;AAIRE;AAJQ,GAAV;;AAOA,MAAMG,IAAI,CACRpB,KADQ,EAERiB,CAFQ,EAEJ;AACJJ,GAHQ,CAGJ;AAHI,IAIRQ,MAJQ,gBAAV;;AAMA,MAAMC,IAAI,CACRrB,MADQ,EAERU,CAFQ,EAEJ;AACJI,GAHQ,CAGJ;AAHI,IAIRM,MAJQ,gBAAV;;AAMA,MAAME,UAAUjB,OAAOkB,MAAP,uBAAhB;;AAEA,MAAMC,QAAQ;AACZC,OAAG/B,SAASD,IADA;AAEZiC,OAAG/B,SAASF;AAFA,GAAd;;AAKA,MAAMkC,UAAU;AACdF,OAAIG,MAAMC,OAAN,CAAcrB,OAAd,CAAD,GACCA,OADD,GAEC,2BAAcgB,MAAMC,CAApB,EAAuBjC,IAAvB,EAA6Be,OAA7B,CAHU;AAIdmB,OAAIE,MAAMC,OAAN,CAAcpB,OAAd,CAAD,GACCA,OADD,GAEC,2BAAce,MAAME,CAApB,EAAuBlC,IAAvB,EAA6Be,OAA7B;AANU,GAAhB;;AASA,MAAMuB,SAAS;AACbL,OAAG,0BAAaD,MAAMC,CAAnB,EAAsBE,QAAQF,CAA9B,EAAiCN,CAAjC,CADU;AAEbO,OAAG,0BAAaF,MAAME,CAAnB,EAAsBC,QAAQD,CAA9B,EAAiCL,CAAjC;AAFU,GAAf;;AAKA,MAAMU,UAAU;AACdN,OAAG,2BAAcD,MAAMC,CAApB,EAAuBlB,OAAvB,CADW;AAEdmB,OAAG,2BAAcF,MAAME,CAApB,EAAuBnB,OAAvB;AAFW,GAAhB;;AAKA;;;;;;;;;;;AAYA,MAAMyB,WAAW,eACdC,KADc,CACR,2BAAgB3B,WAAhB,CADQ,EAEdmB,CAFc,CAEZ,UAACS,CAAD;AAAA,WAAOJ,OAAOL,CAAP,CAASM,QAAQN,CAAR,CAAUS,CAAV,CAAT,CAAP;AAAA,GAFY,EAGdR,CAHc,CAGZ,UAACQ,CAAD;AAAA,WAAOJ,OAAOJ,CAAP,CAASK,QAAQL,CAAR,CAAUQ,CAAV,CAAT,CAAP;AAAA,GAHY,CAAjB;;AAKA,MAAMC,OAAO,eAAO7C,KAAP,EACV8C,MADU,CACH,GADG,EAEVC,IAFU,CAEL,OAFK,EAEI,YAFJ,EAGVA,IAHU,CAGL,WAHK,iBAGqBrB,CAHrB,UAG2BN,CAH3B,OAAb;;AAKA,MAAM4B,QAAQ,mBAAWR,OAAOL,CAAlB,CAAd;;AAEA,MAAI3B,SAASF,IAAb,EAAmB;AACjB0C,UACGC,QADH,CACY,CAAClB,CADb,EACgB,CADhB,EAEGmB,WAFH,CAEe,EAFf;AAGD,GAJD,MAIO;AACLF,UACGC,QADH,CACY,CADZ,EACe,CADf,EAEGC,WAFH,CAEe,EAFf;AAGD;;AAED,MAAMC,SAASN,KACZC,MADY,CACL,GADK,EAEZC,IAFY,CAEP,OAFO,EAEE,QAFF,EAGZA,IAHY,CAGP,WAHO,oBAGsBhB,CAHtB,OAAf;;AAKAoB,SACGC,IADH,CACQJ,KADR;;AAGA,MAAInC,MAAJ,EAAY;AACVsC,WACGL,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,EAEiB,OAFjB,EAGGA,IAHH,CAGQ,GAHR,EAGcnC,WAAW,OAAZ,GACL,CADK,GAELiB,CALR,EAMGkB,IANH,CAMQ,GANR,EAMcnB,EAAEJ,CAAF,GAAMI,EAAER,CANtB,EAOG2B,IAPH,CAOQ,IAPR,EAOenC,WAAW,OAAZ,GACR,KADQ,GAER,SATN,EAUGmC,IAVH,CAUQ,IAVR,EAUc,SAVd,EAWGM,KAXH,CAWS,mBAXT,EAW8B,aAX9B,EAYGA,KAZH,CAYS,aAZT,EAYyBzC,WAAW,OAAZ,GAClB,OADkB,GAElB,KAdN,EAeG0C,IAfH,CAeQzC,MAfR;AAgBD;AACD,MAAM0C,QAAS3C,WAAW,OAAZ,GAAuB,kBAAU4B,OAAOJ,CAAjB,CAAvB,GAA6C,iBAASI,OAAOJ,CAAhB,CAA3D;;AAEA,MAAI7B,SAASD,IAAb,EAAmB;AACjBiD,UACGN,QADH,CACY,CAACpB,CADb,EACgB,CADhB,EAEGqB,WAFH,CAEe,EAFf;AAGD,GAJD,MAIO;AACLK,UACGN,QADH,CACY,CADZ,EACe,CADf,EAEGC,WAFH,CAEe,EAFf;AAGD;;AAED,MAAMM,SAASX,KACZC,MADY,CACL,GADK,EAEZC,IAFY,CAEP,OAFO,EAEE,QAFF,EAGZA,IAHY,CAGP,WAHO,EAGOnC,WAAW,OAAZ,kBACFiB,CADE,YAEf,iBALS,CAAf;;AAOA2B,SACGJ,IADH,CACQG,KADR;;AAGA,MAAIzC,MAAJ,EAAY;AACV0C,WACGV,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,EAEiB,OAFjB,EAGGA,IAHH,CAGQ,WAHR,EAGqB,aAHrB,EAIGA,IAJH,CAIQ,GAJR,EAIa,CAJb,EAKGA,IALH,CAKQ,GALR,EAKcnC,WAAW,OAAZ,GACP,CAACgB,EAAEN,CAAH,GAAOM,EAAEF,CADF,GAEP,CAACE,EAAEF,CAAH,GAAOE,EAAEN,CAPf,EAQGyB,IARH,CAQQ,IARR,EAQc,CARd,EASGA,IATH,CASQ,IATR,EASenC,WAAW,OAAZ,GACR,SADQ,GAER,KAXN,EAYGyC,KAZH,CAYS,mBAZT,EAY8B,aAZ9B,EAaGA,KAbH,CAaS,aAbT,EAawB,KAbxB,EAcGC,IAdH,CAcQxC,MAdR;AAeD;;AAED,MAAM2C,YAAY,SAAZA,SAAY,CAACb,CAAD,EAAIc,CAAJ;AAAA,WAAU1B,QAAQ0B,CAAR,CAAV;AAAA,GAAlB;;AAEA,MAAMC,kBAAkBd,KACrBC,MADqB,CACd,GADc,EAErBC,IAFqB,CAEhB,OAFgB,EAEP,iBAFO,CAAxB;;AAIAY,kBACGC,SADH,CACa,MADb,EAEG1D,IAFH,CAEQA,IAFR,EAGG2D,KAHH,GAIGf,MAJH,CAIU,MAJV,EAKGC,IALH,CAKQ,OALR,EAKiB,MALjB,EAMGM,KANH,CAMS,QANT,EAMmBI,SANnB,EAOGV,IAPH,CAOQ,GAPR,EAOaL,QAPb;AAQD;;AAED,SAASoB,UAAT,CAAoB9D,KAApB,EAA2BC,KAA3B,EAAkC;AAAA,MAE9BC,IAF8B,GAwB5BD,KAxB4B,CAE9BC,IAF8B;AAAA,MAI9BC,IAJ8B,GAwB5BF,KAxB4B,CAI9BE,IAJ8B;AAAA,MAK9BC,KAL8B,GAwB5BH,KAxB4B,CAK9BG,KAL8B;AAAA,MAM9BC,KAN8B,GAwB5BJ,KAxB4B,CAM9BI,KAN8B;AAAA,MAO9BC,IAP8B,GAwB5BL,KAxB4B,CAO9BK,IAP8B;AAAA,MAQ9BC,KAR8B,GAwB5BN,KAxB4B,CAQ9BM,KAR8B;AAAA,MAS9BC,KAT8B,GAwB5BP,KAxB4B,CAS9BO,KAT8B;AAAA,MAU9BC,KAV8B,GAwB5BR,KAxB4B,CAU9BQ,KAV8B;AAAA,MAW9BC,MAX8B,GAwB5BT,KAxB4B,CAW9BS,MAX8B;AAAA,MAY9BC,MAZ8B,GAwB5BV,KAxB4B,CAY9BU,MAZ8B;AAAA,MAa9BC,MAb8B,GAwB5BX,KAxB4B,CAa9BW,MAb8B;AAAA,MAc9BC,MAd8B,GAwB5BZ,KAxB4B,CAc9BY,MAd8B;AAAA,MAe9BC,MAf8B,GAwB5Bb,KAxB4B,CAe9Ba,MAf8B;AAAA,MAgB9BC,MAhB8B,GAwB5Bd,KAxB4B,CAgB9Bc,MAhB8B;AAAA,MAkB9BC,WAlB8B,GAwB5Bf,KAxB4B,CAkB9Be,WAlB8B;AAAA,MAmB9BC,OAnB8B,GAwB5BhB,KAxB4B,CAmB9BgB,OAnB8B;AAAA,MAsB9BC,OAtB8B,GAwB5BjB,KAxB4B,CAsB9BiB,OAtB8B;AAAA,MAuB9BC,OAvB8B,GAwB5BlB,KAxB4B,CAuB9BkB,OAvB8B;AAAA,MA2BzBC,CA3ByB,GA+B5BT,MA/B4B,CA2B9BU,GA3B8B;AAAA,MA4BvBC,CA5BuB,GA+B5BX,MA/B4B,CA4B9BY,KA5B8B;AAAA,MA6BtBC,CA7BsB,GA+B5Bb,MA/B4B,CA6B9Bc,MA7B8B;AAAA,MA8BxBC,CA9BwB,GA+B5Bf,MA/B4B,CA8B9BgB,IA9B8B;;;AAiChC,MAAMC,IAAI;AACRR,QADQ;AAERE,QAFQ;AAGRE,QAHQ;AAIRE;AAJQ,GAAV;;AAOA,MAAMG,IAAI,CACRpB,KADQ,EAERiB,CAFQ,EAEJ;AACJJ,GAHQ,CAGJ;AAHI,IAIRQ,MAJQ,gBAAV;;AAMA,MAAMC,IAAI,CACRrB,MADQ,EAERU,CAFQ,EAEJ;AACJI,GAHQ,CAGJ;AAHI,IAIRM,MAJQ,gBAAV;;AAMA,MAAME,UAAUjB,OAAOkB,MAAP,uBAAhB;;AAEA,MAAMC,QAAQ;AACZC,OAAG/B,SAASD,IADA;AAEZiC,OAAG/B,SAASF;AAFA,GAAd;;AAKA,MAAMkC,UAAU;AACdF,OAAIG,MAAMC,OAAN,CAAcrB,OAAd,CAAD,GACCA,OADD,GAEC,2BAAcgB,MAAMC,CAApB,EAAuBjC,IAAvB,EAA6Be,OAA7B,CAHU;AAIdmB,OAAIE,MAAMC,OAAN,CAAcpB,OAAd,CAAD,GACCA,OADD,GAEC,2BAAce,MAAME,CAApB,EAAuBlC,IAAvB,EAA6Be,OAA7B;AANU,GAAhB;;AASA,MAAMuB,SAAS;AACbL,OAAG,0BAAaD,MAAMC,CAAnB,EAAsBE,QAAQF,CAA9B,EAAiCN,CAAjC,CADU;AAEbO,OAAG,0BAAaF,MAAME,CAAnB,EAAsBC,QAAQD,CAA9B,EAAiCL,CAAjC;AAFU,GAAf;;AAKA,MAAMU,UAAU;AACdN,OAAG,2BAAcD,MAAMC,CAApB,EAAuBlB,OAAvB,CADW;AAEdmB,OAAG,2BAAcF,MAAME,CAApB,EAAuBnB,OAAvB;AAFW,GAAhB;;AAKA;;;;;;;;;;;AAYA,MAAMyB,WAAW,eACdC,KADc,CACR,2BAAgB3B,WAAhB,CADQ,EAEdmB,CAFc,CAEZ,UAACS,CAAD;AAAA,WAAOJ,OAAOL,CAAP,CAASM,QAAQN,CAAR,CAAUS,CAAV,CAAT,CAAP;AAAA,GAFY,EAGdR,CAHc,CAGZ,UAACQ,CAAD;AAAA,WAAOJ,OAAOJ,CAAP,CAASK,QAAQL,CAAR,CAAUQ,CAAV,CAAT,CAAP;AAAA,GAHY,CAAjB;;AAKA,MAAMmB,IAAI7D,KAAK8D,MAAf;;AAEA,MAAMnB,OAAO,eAAO7C,KAAP,EACV4D,SADU,CACA,cADA,CAAb;;AAGAf,OACGiB,UADH,GAEGG,QAFH,CAEY,GAFZ,EAGGlB,IAHH,CAGQ,WAHR,iBAGkCrB,CAHlC,UAGwCN,CAHxC;;AAKA,MAAM4B,QAAQ,mBAAWR,OAAOL,CAAlB,CAAd;;AAEA,MAAI3B,SAASF,IAAb,EAAmB;AACjB0C,UACGC,QADH,CACY,CAAClB,CADb,EACgB,CADhB,EAEGmB,WAFH,CAEe,EAFf;AAGD,GAJD,MAIO;AACLF,UACGC,QADH,CACY,CADZ,EACe,CADf,EAEGC,WAFH,CAEe,EAFf;AAGD;;AAED,MAAMC,SAASN,KACZe,SADY,CACF,UADE,CAAf;;AAGAT,SACGC,IADH,CACQJ,KADR;;AAGAG,SACGW,UADH,GAEGG,QAFH,CAEY,GAFZ,EAGGlB,IAHH,CAGQ,WAHR,oBAGqChB,CAHrC;;AAKAoB,SACGS,SADH,CACa,YADb,EAEGM,MAFH;;AAIA,MAAIrD,MAAJ,EAAY;AACVsC,WACGL,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,EAEiB,OAFjB,EAGGA,IAHH,CAGQ,GAHR,EAGcnC,WAAW,OAAZ,GACL,CADK,GAELiB,CALR,EAMGkB,IANH,CAMQ,GANR,EAMcnB,EAAEJ,CAAF,GAAMI,EAAER,CANtB,EAOG2B,IAPH,CAOQ,IAPR,EAOenC,WAAW,OAAZ,GACR,KADQ,GAER,SATN,EAUGmC,IAVH,CAUQ,IAVR,EAUc,SAVd,EAWGM,KAXH,CAWS,mBAXT,EAW8B,aAX9B,EAYGA,KAZH,CAYS,aAZT,EAYyBzC,WAAW,OAAZ,GAClB,OADkB,GAElB,KAdN,EAeG0C,IAfH,CAeQzC,MAfR;AAgBD;;AAED,MAAM0C,QAAS3C,WAAW,OAAZ,GAAuB,kBAAU4B,OAAOJ,CAAjB,CAAvB,GAA6C,iBAASI,OAAOJ,CAAhB,CAA3D;;AAEA,MAAI7B,SAASD,IAAb,EAAmB;AACjBiD,UACGN,QADH,CACY,CAACpB,CADb,EACgB,CADhB,EAEGqB,WAFH,CAEe,EAFf;AAGD,GAJD,MAIO;AACLK,UACGN,QADH,CACY,CADZ,EACe,CADf,EAEGC,WAFH,CAEe,EAFf;AAGD;;AAED,MAAMM,SAASX,KACZe,SADY,CACF,UADE,CAAf;;AAGAJ,SACGJ,IADH,CACQG,KADR;;AAGAC,SACGM,UADH,GAEGG,QAFH,CAEY,GAFZ,EAGGlB,IAHH,CAGQ,WAHR,EAGsBnC,WAAW,OAAZ,kBACFiB,CADE,YAEf,iBALN;;AAOA2B,SACGI,SADH,CACa,YADb,EAEGM,MAFH;;AAIA,MAAIpD,MAAJ,EAAY;AACV0C,WACGV,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,EAEiB,OAFjB,EAGGA,IAHH,CAGQ,WAHR,EAGqB,aAHrB,EAIGA,IAJH,CAIQ,GAJR,EAIa,CAJb,EAKGA,IALH,CAKQ,GALR,EAKcnC,WAAW,OAAZ,GACP,CAACgB,EAAEN,CAAH,GAAOM,EAAEF,CADF,GAEP,CAACE,EAAEF,CAAH,GAAOE,EAAEN,CAPf,EAQGyB,IARH,CAQQ,IARR,EAQc,CARd,EASGA,IATH,CASQ,IATR,EASenC,WAAW,OAAZ,GACR,SADQ,GAER,KAXN,EAYGyC,KAZH,CAYS,mBAZT,EAY8B,aAZ9B,EAaGA,KAbH,CAaS,aAbT,EAawB,KAbxB,EAcGC,IAdH,CAcQxC,MAdR;AAeD;;AAED,MAAM2C,YAAY,SAAZA,SAAY,CAACb,CAAD,EAAIc,CAAJ;AAAA,WAAU1B,QAAQ0B,CAAR,CAAV;AAAA,GAAlB;;AAEA,MAAMC,kBAAkBd,KACrBe,SADqB,CACX,wBADW,EAEnB1D,IAFmB,CAEdA,IAFc,CAAxB;;AAIA,MAAI6D,CAAJ,EAAO;AACLJ,oBACGG,UADH,GAEGG,QAFH,CAEY,GAFZ,EAGGlB,IAHH,CAGQ,OAHR,EAGiB,MAHjB,EAIGM,KAJH,CAIS,QAJT,EAImBI,SAJnB,EAKGV,IALH,CAKQ,GALR,EAKa,UAACH,CAAD;AAAA,aAAOF,SAASE,CAAT,CAAP;AAAA,KALb;;AAOAe,oBACGE,KADH,GAEGf,MAFH,CAEU,MAFV,EAGGC,IAHH,CAGQ,OAHR,EAGiB,MAHjB,EAIGM,KAJH,CAIS,QAJT,EAImBI,SAJnB,EAKGV,IALH,CAKQ,GALR,EAKa,UAACH,CAAD;AAAA,aAAOF,SAASE,CAAT,CAAP;AAAA,KALb;AAMD;;AAEDe,kBACGQ,IADH,GAEGD,MAFH;AAGD;;kBAEc;AACbnE,wBADa;AAEb+D;AAFa,C","file":"index.js","sourcesContent":["import {\n  select,\n  axisBottom,\n  axisLeft,\n  axisRight,\n  line\n} from 'd3';\n\nimport {\n  // createUniqueID,\n  reduce,\n  // defaultStyles,\n  // getDefaultAxisStyles,\n  defaultColors,\n  createDomainX,\n  createDomainY,\n  createScaleX,\n  createScaleY,\n  createParserX,\n  createParserY // ,\n  // createFormatX,\n  // createFormatY\n} from './common';\nimport interpolateLine from '../../../interpolate';\n\nfunction initialise(chart, props) {\n  const {\n    data,\n    // axes,\n    type,\n    xType,\n    yType,\n    grid,\n    hGrid,\n    vGrid,\n    width,\n    height,\n    margin,\n    orient,\n    xLabel,\n    yLabel,\n    colors,\n    // strokeWidth,\n    interpolate,\n    pattern,\n    // xPattern,\n    // yPattern,\n    xDomain,\n    yDomain\n  } = props;\n\n  const {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  } = margin;\n\n  const m = {\n    t,\n    r,\n    b,\n    l\n  };\n\n  const w = [\n    width,\n    l,  // margin.left\n    r   // margin.right\n  ].reduce(reduce);\n\n  const h = [\n    height,\n    t,  // margin.top\n    b   // margin.bottom\n  ].reduce(reduce);\n\n  const strokes = colors.concat(defaultColors);\n\n  const types = {\n    x: xType || type,\n    y: yType || type\n  };\n\n  const domains = {\n    x: (Array.isArray(xDomain))\n      ? xDomain\n      : createDomainX(types.x, data, pattern),\n    y: (Array.isArray(yDomain))\n      ? yDomain\n      : createDomainY(types.y, data, pattern)\n  };\n\n  const scales = {\n    x: createScaleX(types.x, domains.x, w),\n    y: createScaleY(types.y, domains.y, h)\n  };\n\n  const parsers = {\n    x: createParserX(types.x, pattern),\n    y: createParserY(types.y, pattern)\n  };\n\n  /*\n  const patterns = {\n    x: xPattern || pattern,\n    y: yPattern || pattern\n  };\n\n  const formats = {\n    x: createFormatX(types.x, patterns.x),\n    y: createFormatY(types.y, patterns.y)\n  };\n  */\n\n  const linePath = line()\n    .curve(interpolateLine(interpolate))\n    .x((d) => scales.x(parsers.x(d)))\n    .y((d) => scales.y(parsers.y(d)));\n\n  const root = select(chart)\n    .append('g')\n    .attr('class', 'chartGroup')\n    .attr('transform', `translate(${l}, ${t})`);\n\n  const xAxis = axisBottom(scales.x);\n\n  if (vGrid || grid) {\n    xAxis\n      .tickSize(-h, 6)\n      .tickPadding(10);\n  } else {\n    xAxis\n      .tickSize(0, 6)\n      .tickPadding(16);\n  }\n\n  const xGroup = root\n    .append('g')\n    .attr('class', 'x axis')\n    .attr('transform', `translate(0, ${h})`);\n\n  xGroup\n    .call(xAxis);\n\n  if (xLabel) {\n    xGroup\n      .append('text')\n      .attr('class', 'label')\n      .attr('x', (orient === 'right')\n          ? 0\n          : w)\n      .attr('y', (m.b - m.t))\n      .attr('dx', (orient === 'right')\n        ? '0em'\n        : '-.175em')\n      .attr('dy', '-.175em')\n      .style('dominant-baseline', 'ideographic')\n      .style('text-anchor', (orient === 'right')\n        ? 'start'\n        : 'end')\n      .text(xLabel);\n  }\n  const yAxis = (orient === 'right') ? axisRight(scales.y) : axisLeft(scales.y);\n\n  if (hGrid || grid) {\n    yAxis\n      .tickSize(-w, 6)\n      .tickPadding(10);\n  } else {\n    yAxis\n      .tickSize(0, 6)\n      .tickPadding(16);\n  }\n\n  const yGroup = root\n    .append('g')\n    .attr('class', 'y axis')\n    .attr('transform', (orient === 'right')\n      ? `translate(${w}, 0)`\n      : 'translate(0, 0)');\n\n  yGroup\n    .call(yAxis);\n\n  if (yLabel) {\n    yGroup\n      .append('text')\n      .attr('class', 'label')\n      .attr('transform', 'rotate(-90)')\n      .attr('x', 0)\n      .attr('y', (orient === 'right')\n        ? +m.r - m.l\n        : -m.l + m.r)\n      .attr('dx', 0)\n      .attr('dy', (orient === 'right')\n        ? '-.175em'\n        : '1em')\n      .style('dominant-baseline', 'ideographic')\n      .style('text-anchor', 'end')\n      .text(yLabel);\n  }\n\n  const getStroke = (d, i) => strokes[i];\n\n  const chartPathsGroup = root\n    .append('g')\n    .attr('class', 'chartPathsGroup');\n\n  chartPathsGroup\n    .selectAll('path')\n    .data(data)\n    .enter()\n    .append('path')\n    .attr('class', 'line')\n    .style('stroke', getStroke)\n    .attr('d', linePath);\n}\n\nfunction transition(chart, props) {\n  const {\n    data,\n    // axes,\n    type,\n    xType,\n    yType,\n    grid,\n    hGrid,\n    vGrid,\n    width,\n    height,\n    margin,\n    orient,\n    xLabel,\n    yLabel,\n    colors,\n    // strokeWidth,\n    interpolate,\n    pattern,\n    // xPattern,\n    // yPattern,\n    xDomain,\n    yDomain\n  } = props;\n\n  const {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  } = margin;\n\n  const m = {\n    t,\n    r,\n    b,\n    l\n  };\n\n  const w = [\n    width,\n    l,  // margin.left\n    r   // margin.right\n  ].reduce(reduce);\n\n  const h = [\n    height,\n    t,  // margin.top\n    b   // margin.bottom\n  ].reduce(reduce);\n\n  const strokes = colors.concat(defaultColors);\n\n  const types = {\n    x: xType || type,\n    y: yType || type\n  };\n\n  const domains = {\n    x: (Array.isArray(xDomain))\n      ? xDomain\n      : createDomainX(types.x, data, pattern),\n    y: (Array.isArray(yDomain))\n      ? yDomain\n      : createDomainY(types.y, data, pattern)\n  };\n\n  const scales = {\n    x: createScaleX(types.x, domains.x, w),\n    y: createScaleY(types.y, domains.y, h)\n  };\n\n  const parsers = {\n    x: createParserX(types.x, pattern),\n    y: createParserY(types.y, pattern)\n  };\n\n  /*\n  const patterns = {\n    x: xPattern || pattern,\n    y: yPattern || pattern\n  };\n\n  const formats = {\n    x: createFormatX(types.x, patterns.x),\n    y: createFormatY(types.y, patterns.y)\n  };\n  */\n\n  const linePath = line()\n    .curve(interpolateLine(interpolate))\n    .x((d) => scales.x(parsers.x(d)))\n    .y((d) => scales.y(parsers.y(d)));\n\n  const n = data.length;\n\n  const root = select(chart)\n    .selectAll('g.chartGroup');\n\n  root\n    .transition()\n    .duration(750)\n    .attr('transform', `translate(${l}, ${t})`);\n\n  const xAxis = axisBottom(scales.x);\n\n  if (vGrid || grid) {\n    xAxis\n      .tickSize(-h, 6)\n      .tickPadding(10);\n  } else {\n    xAxis\n      .tickSize(0, 6)\n      .tickPadding(16);\n  }\n\n  const xGroup = root\n    .selectAll('g.x.axis');\n\n  xGroup\n    .call(xAxis);\n\n  xGroup\n    .transition()\n    .duration(750)\n    .attr('transform', `translate(0, ${h})`);\n\n  xGroup\n    .selectAll('text.label')\n    .remove();\n\n  if (xLabel) {\n    xGroup\n      .append('text')\n      .attr('class', 'label')\n      .attr('x', (orient === 'right')\n          ? 0\n          : w)\n      .attr('y', (m.b - m.t))\n      .attr('dx', (orient === 'right')\n        ? '0em'\n        : '-.175em')\n      .attr('dy', '-.175em')\n      .style('dominant-baseline', 'ideographic')\n      .style('text-anchor', (orient === 'right')\n        ? 'start'\n        : 'end')\n      .text(xLabel);\n  }\n\n  const yAxis = (orient === 'right') ? axisRight(scales.y) : axisLeft(scales.y);\n\n  if (hGrid || grid) {\n    yAxis\n      .tickSize(-w, 6)\n      .tickPadding(10);\n  } else {\n    yAxis\n      .tickSize(0, 6)\n      .tickPadding(16);\n  }\n\n  const yGroup = root\n    .selectAll('g.y.axis');\n\n  yGroup\n    .call(yAxis);\n\n  yGroup\n    .transition()\n    .duration(750)\n    .attr('transform', (orient === 'right')\n      ? `translate(${w}, 0)`\n      : 'translate(0, 0)');\n\n  yGroup\n    .selectAll('text.label')\n    .remove();\n\n  if (yLabel) {\n    yGroup\n      .append('text')\n      .attr('class', 'label')\n      .attr('transform', 'rotate(-90)')\n      .attr('x', 0)\n      .attr('y', (orient === 'right')\n        ? +m.r - m.l\n        : -m.l + m.r)\n      .attr('dx', 0)\n      .attr('dy', (orient === 'right')\n        ? '-.175em'\n        : '1em')\n      .style('dominant-baseline', 'ideographic')\n      .style('text-anchor', 'end')\n      .text(yLabel);\n  }\n\n  const getStroke = (d, i) => strokes[i];\n\n  const chartPathsGroup = root\n    .selectAll('g.chartPathsGroup path')\n      .data(data);\n\n  if (n) {\n    chartPathsGroup\n      .transition()\n      .duration(750)\n      .attr('class', 'line')\n      .style('stroke', getStroke)\n      .attr('d', (d) => linePath(d));\n\n    chartPathsGroup\n      .enter()\n      .append('path')\n      .attr('class', 'line')\n      .style('stroke', getStroke)\n      .attr('d', (d) => linePath(d));\n  }\n\n  chartPathsGroup\n    .exit()\n    .remove();\n}\n\nexport default {\n  initialise,\n  transition\n};\n"]}